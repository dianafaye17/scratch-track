<div class="vertical grid-block">
  <div class="grid-block text-center">
    <div class="grid-content noscroll small-10 small-offset-1">
      <div class="title-bar">
        <span class="title center">Create New Recording</span>
      </div> 
      <br>

      <a class="large button" id="record-btn" ng-click="startRecording();"> <i class="material-icons left">mic_none</i>Record</a>
      <a class="large alert button disabled" id="stop-btn" ng-click="stopRecording();"><i class="material-icons left">mic_off</i>Stop</a>
      <audio controls="true">
        <source id="audio-player" ng-src="{{newRecordingSrc | trusted}}" type="audio/wav">
      </audio> <br>
      <a class="medium button disabled" id="save-btn" ng-click="saveRecording(newRecordingBlob)">Save Recording</a>
      <a class="medium alert button disabled" id="discard-btn" ng-click="discardRecording()">Discard Recording</a>
      <p id="log" class="recordingStatus"></p>

      <div class="title-bar">
        <span class="title center">Recordings for this Project</span>
      </div> 
      <br>
        <zf-accordion auto-open="false" collapsible="true" multi-open="true" id="recordingslist">
          <zf-accordion-item ng-repeat="recording in recordings" ng-model="recordings" title="{{ formateDate(recording.created_at) }} - {{recording.name}}" watch>
            <audio controls="true">
              <source ng-src="{{recording.url | trusted}}" type="audio/wav"/>
            </audio>
            <br/>
            <a class="small button" download href="{{recording.url}}">Download Link</a>
            <a class="small alert button" zf-open="delModal">Delete Recording</a>

            <!--New Recording, Edit, & Delete Modals-->
            <div zf-modal="" id="delModal">
              <a zf-close="" class="close-button">×</a>
              <h3>Are you sure you want to delete this recording?</h3>
              <a class="medium alert button" zf-close="" ng-click="delete(recording.id)">Confirm Delete</a>
              <a class="medium button" zf-close="" class="close-button">Go Back</a>
          </div>

          <div zf-modal="" id="newModal">
              <a zf-close="" class="close-button">×</a>
              <label>
                Title This Recording:
                <input type="text" ng-model="newRecording.name"/>
                Recording Description:
                <textarea ng-model="newRecording.description"></textarea>
              </label>
              <a class="medium alert button" zf-close="" ng-click="">Save Recording</a>
              <a class="medium button" zf-close="" class="close-button">Discard</a>
          </div>

          </zf-accordion-item>
        </zf-accordion>
    </div>
  </div>
</div>


