<div class="vertical grid-block">
  <div class="grid-block text-center">
    <div class="grid-content noscroll small-8 small-offset-2">
      
      <section class="spaced">
        <h1>Lyrics</h1>

        <p>
          Here you can create lyrics for your project.
        </p>
      </section>
      
      <zf-accordion id="create-lyric" auto-open="false">
        <zf-accordion-item class="title" title="Click To Create New Lyric Sheet">
          <br>
          <form name="newLyricForm" class="form-group" ng-submit="add(newLyric); submit();" novalidate>
            <label>Lyric Title:</label>
            <textarea class="lyric-textarea" type="text" name="lyric-title" ng-model="newLyric.name" placeholder="Enter title here." required></textarea>
            <br>

            <div class="form-group"> 
              <div class="validation-error" ng-messages="newLyricForm.$error" ng-if="submitted && !hasBeenReset">
                <div ng-message="required">Oops! You have some unfilled fields. Please complete and try again.</div>
              </div>
            </div>     

            <label>Lyric Body:</label>
            <textarea class="lyric-textarea" type="text" name="lyric-body" ng-model="newLyric.text" placeholder="Enter lyrics here." style="min-height: 100px;" required></textarea>
            <br>

            <button class="button" type="submit" href="#">SAVE</button>
          </form>
        </zf-accordion-item>
      </zf-accordion>

      
      <zf-accordion id="lyric-revision" style="display: none;">
        <zf-accordion-item class="title" title="Create New Revision">
          <form name="lyricRevisionForm" class="form-group" ng-submit="toggleElement('lyric-revision'); toggleElement('create-lyric'); add(newLyric);" novalidate>
            <label>Revision Title:</label>
            <textarea class="lyric-textarea" type="text" ng-model="newLyric.name" placeholder="Enter title here."></textarea>

            <label>Revision Body:</label>
            <textarea class="lyric-textarea" type="text" ng-model="newLyric.text" placeholder="Enter lyrics here."></textarea>

            <button class="button" type="submit" href="#" >SAVE</button>

            <a ng-click="toggleElement('lyric-revision'); toggleElement('create-lyric');" class="button">CANCEL</a>   
          </form>      
        </zf-accordion-item>
      </zf-accordion>

      <br>
      <br>
      <div class="grid-block">
        <div class="grid-content">

          <input type="text" placeholder="Search Lyrics..." ng-model="lyricSearch">
          <div class="title-bar">
            <span class="title center">Your Lyrics for This Project:</span>
          </div>

          <sort></sort>

          <zf-accordion auto-open="false" ng-repeat="lyric in lyrics.data | orderBy: sortField: sortDirection | filter: lyricSearch" ng-model="lyrics">
            <zf-accordion-item title="{{ formatDate(lyric.created_at) }} - {{ lyric.name}}">
              <div class="lyric-textarea" id="lyrictitle" style="display: none;">
                <label>Lyric Title:</label>
                <textarea id="lyrictitle" ng-model="lyric.name"></textarea>
              </div>
              
              <label>Lyric Body:</label>
              <textarea class="lyric-textarea" id="lyrictext" ng-model="lyric.text" readonly="readonly"></textarea>

              <a class="button" href="#" ng-click="toggleElement('lyric-revision'); toggleElement('create-lyric'); update(lyric.name, lyric.text);">CREATE REVISION</a>

              <a class="button" id="edit-lyrics-btn" href="#" ng-click="toggleEditable(); toggleElement('lyrictitle'); edit(lyric.id, lyric)">EDIT</a>

              <a zf-open="deleteLyricModal" class="alert button">DELETE</a>
              <div zf-modal="" id="deleteLyricModal">
                <div>
                    <h4>Are You Sure That You Want To Delete This Lyric Sheet?</h4>
                  <a class="alert button" ng-click="delete(lyric.id)">YES, REALLY DELETE</a>

                  <a zf-close="" class="button">NO, GO BACK TO LYRICS</a>
                </div>
              </div>
            </zf-accordion-item>
          </zf-accordion>
        </div>
      </div>

    </div>
  </div>
</div>
<br>
